# Unosquare C# documentation template
[![Build status](https://ci.appveyor.com/api/projects/status/psjd5g56kr0vayiw?svg=true)](https://ci.appveyor.com/project/qinezh/docfx-seed)

## Description
We are using the template here to build all project's documentation, this builds are taken place on each appveyor.yml configuration of each project. It contains .NET source code and markdown files. `docfx.json` is the configuration file for running `docfx`.It will generate a static website as similar to http://docascode.github.io/docfx-seed/index.html.

## How to run
### Under Windows
#### Install from Nuget
* Install [Nuget.exe](https://dist.nuget.org/index.html)
* Create a folder, e.g. *C:\Tools\docfx*, under the folder, `nuget install docfx.console`
* Open command line: 
```batch
set PATH=%PATH%;C:\Tools\docfx\docfx.console\tools
docfx docfx-seed\docfx.json --serve
```
#### Install from choco
* Install [chocolatey](https://chocolatey.org/install)
* Open command line:
```batch
choco install docfx
docfx docfx-seed\docfx.json --serve
```

### Cross platform
* Install [Mono](http://www.mono-project.com/download/#download-lin)
* Install [Nuget.exe](https://dist.nuget.org/index.html)
```sh
> mono nuget.exe install docfx.console
> mono docfx.console/tools/docfx.exe docfx-seed/docfx.json
```

## DocFx

[DocFX](https://dotnet.github.io/docfx/) is a documentation generation tool for API reference and Markdown files! To use it you need to [download](https://github.com/dotnet/docfx/releases) it. We recommend using [Chocolatey](https://chocolatey.org) to install DocFx.

### How to use it

You need to setup your solution with two config files (`docfx.json` and `toc.yml`) and one `index.md` (usually is the same as `README.md`) in order to build a documentation web site. For more information check the [documentation](https://dotnet.github.io/docfx/spec/docfx_flavored_markdown.html?tabs=tabid-1%2Ctabid-a).

#### `docfx.json` file

The `src` property is where you specified the solution and C# project that docfx is going to use to make the documentation.

The `template` property is optional, docfx is going to use the default template, but you can modify this by exporting the template `docfx template export default` and then add to the `docfx.json` the `template` property and the path where the template was saved.

To build docfx.
> docfx docfx.json

Build and serve.
> docfx docfx.json --serve

If you have several custom templates, use this to build with another template.
> docfx -t templates\custom

```json
{
  "metadata": [
    {
      "src": [
        {  
          "files": [ "**/*.sln", "src/DotnetNew/*.csproj" ],
          "exclude": [ "**/bin/**", "**/obj/**" ],
          "cwd": "src"
        }
      ],
      "dest": "obj/api"
    }
  ],
  "build": {
    "template": [
      "templates/default"
    ],
    "content": [
      {
        "files": [ "**/*.yml" ],
        "cwd": "obj/api",
        "dest": "api"
      },
      {
        "files": [ "*.md", "toc.yml", "restapi/**" ]
      }
    ],
    "resource": [
      {
        "files": [ "resources/**"],
        "exclude": [ "obj/**", "_site/**" ]
      }
    ],
    "overwrite": "specs/*.md",
    "globalMetadata": {
      "_appTitle": "docfx seed website",
      "_enableSearch": true,
      "_docLogo": "resources/images/doc_logo.svg",
      "_appLogoPath": "resources/images/unosquare_logo.svg"
    },
    "dest": "_site"
  }
}

```

#### `toc.yml` file

These are references to the navigation bar that docfx is going to create, it will appear with the name and have a link to the href that are specified in this file.

```yml
- name: API Documentation
  href: obj/api/

- name: REST API
  href: restapi/
```

### Configuration of docfx in `appveyor.yml` for another project

Since we have the template in this repository, you only need to add the docfx.json and the toc.yml to the root of your project, making the necessary modifications to adapt it to the project (generally only adding the routes to the `src` property and changing the `_docLogo` to the logo of your project), and then adding these lines after configuring the git credentials and cloning your main project.

````
git clone -b documentation https://github.com/unosquare/best-practices.git -q
docfx docfx.json --logLevel Error
````

And then these lines to have an index inside the destination folder `_site`

````
CD _site
Copy-Item README.html index.html -force
````

## Further information about `docfx`
`docfx` is a tool to generate documentation towards .NET source code and markdown files. Please refer to [docfx](http://dotnet.github.io/docfx/tutorial/docfx_getting_started.html) to get start. The `docfx` website itself is generated by `docfx`!
